<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Gospel Lyrics Home</title>

    <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/agency.css" rel="stylesheet">
    <link  rel="shortcut icon" href="img/logo.png">
     <link href="css/dataTables.bootstrap.min.css" rel="stylesheet">
	
    <!-- Custom Fonts -->
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="font-awesome/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='font-awesome/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='font-awesome/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='font-awesome/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body id="page-top" class="index">

    <!-- Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
               <img src='icon.png' class="img-rounded" style='float: left;width:38px;margin-right:5px;'> <a class="navbar-brand page-scroll" href="#page-top">  <label style='padding-left;2px;'> Gospel Lyrics </label></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li class="hidden">
                        <a href="#page-top"></a>
                    </li>
                    
                    <li>
                        <a class="page-scroll" href="#request_lyrics"> <label><i class="fa fa-paper-plane-o"></i> View Lyrics </label></a>
                    </li>
					<!--<li>
                        <a class="page-scroll" href="#view_lyrics"> <label>Whats New </label></a>
                    </li>-->
					
                   <!-- <li>
                        <a class="page-scroll" href="#about"> <label>Instrumentals </label></a>
                    </li>
                  
                    <li>
                       <a class="page-scroll" href="#contact">  <label> <i class="fa fa-plus-square-o"></i> Submit Lyrics </label> </a>
                    </li>
					 -->
					 <li>
                        <a class="page-scroll" href="#team"> <label> <i class="fa fa-user"></i> About US </label></a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
    </nav>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="intro-text">
                <div class="intro-lead-in"></div>
                
                <!--<a href="#view_lyrics" class="page-scroll btn btn-xl">Preaching Christ !</a>-->
            </div>
        </div>
    </header>

    <!-- view_lyrics Section -->
	
	
	
    

    <!-- Portfolio Grid Section -->
    <section id="request_lyrics" class="bg-light-gray">
        <div class="container" id='offlinelyrics' style='margin-top:-100px;'>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h6 class="section-heading">Lyrics</h6>
                    
                </div>
            </div>
                
               
                <div class="col-md-4 col-sm-6 portfolio-item">
                    <a href="#portfolioModal4" class="portfolio-link" data-toggle="modal">
                        <div class="portfolio-hover">
                            <div class="portfolio-hover-content">
                               <b>Please wait</b>
                            </div>
                        </div>
                        <img src="img/loading.gif" class="img-responsive" alt="">
                    </a>
                    <div class="portfolio-caption">
                        <h4>Loading Lyrics...</h4>
                       
                    </div>
                </div>
                
               
            </div>
        </div>
    </section>

	
	<!--
	 <section id="view_lyrics">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Trending Lyrics</h2>
                    <h3 class="section-subheading text-muted">Many users are viewing this lyrics</h3>
                </div>
				<ul>
				<button  type="button" style=' white-space: normal;' class="btn btn-info btn-lg" >Hallelujah Nkateko - Joyous Celebration 19  <b>(365k views)</b></button><br/><br/>
				<button type="button" style=' white-space: normal;' class="btn btn-info btn-lg" >Ngino Jesu - Joyous Celebration 19  <b>(235k views)</b></button>
				<ul>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <ul class="timeline">
                        <li>
                            <div class="timeline-image">
                                <img class="img-circle img-responsive" src="img/about/1.jpg" alt="">
                            </div>
                           
							
							
                        </li>
                        
                       
                        
                        <li class="timeline-inverted">
                            <div class="timeline-image">
                                <h4>New
                                    <br>weekly<br>Instruments</h4>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>
-->
	
    <!-- About Section -->
   
   
  <!-- 
   
   <section id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Instrumental</h2>
                    <h3 class="section-subheading text-muted">Gospel Lyrics.</h3>
                </div>
            </div>
			
			
            <div class="row text-center">
                
		<!--		<div class="col-md-3">
<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/222003352&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true">
</iframe>
</div>
                
	
			<div class="col-md-3">
			<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/171513666&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>
			</div>
			   
		
		<div class="col-md-3">
		<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/221842395&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>
		</div>
		
		<div class="col-md-3">
		<iframe width="100%" height="250" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/224868854&amp;auto_play=false&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false&amp;visual=true"></iframe>
		</div>-->
				<!--
				
		
			   </div>
		
			
        </div>
    </section>
   
   -->
   
   
   
   
   
   

    <!-- Clients Aside -->

    <!-- Contact Section -->
	<!--
    <section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Submit Lyrics</h2>
                    <h3 class="section-subheading text-muted">Let others Learn what the Lord says</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <form name="sentMessage" id="contactForm" novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Artist Name *" id="name" required data-validation-required-message="Please enter artist name.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Song Title *" id="email" required data-validation-required-message="Please enter song title.">
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="form-group">
                                    <input type="text" class="form-control" placeholder="Your Name *" id="name" required data-validation-required-message="Please enter your Name.">
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <textarea class="form-control" placeholder="Lyrics *" id="message" required data-validation-required-message="Please enter the lyrics here."></textarea>
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-lg-12 text-center">
                                <div id="success"></div>
                                <button type="submit" class="btn btn-xl">Submit</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

	-->
    <!-- Team Section -->
    <section id="team" class="bg-light-gray">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h4 class="section-heading">About Us</h4>
				  <p class="large text-muted">We are a fast paced group specializing in making Jesus Christ known by writing, translating and sharing lyrics of gospel music done in various languages.The lyrics belong to the original writers and we are only doing this for educational purpose.</p>
                    <h3 class="section-subheading text-muted">Contributors.</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="team-member">
                        <img src="img/team/6.PNG" class="img-responsive img-circle" alt="">
                        <h4>Emmanuel Kaunda</h4>
                        <p class="text-muted">Founder,lead writer, translator and developer</p>
                        <ul class="list-inline social-buttons">
                            <li><a href="https://www.twitter.com/elkant"><i class="fa fa-twitter"></i></a>
                            </li>
                            <li><a href="https://www.facebook.com/ikaunda"><i class="fa fa-facebook"></i></a>
                            </li>
                            <li><a href="https://www.linkedin.com/in/ikaunda"><i class="fa fa-linkedin"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
                
               
            </div>
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 text-center">
                    <p class="large text-muted">We are looking for contributors to join our community.If interested, send a request to join through email elkaunda@gmail.com</p>
                </div>
            </div>
        </div>
    </section>

	
	
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <span class="copyright">Copyright &copy; Gospel Lyrics inc.</span>
                </div>
                <div class="col-md-4">
                    <ul class="list-inline social-buttons">
                        <li><a href="https://twitter.com/gospel_lyr"><i class="fa fa-twitter"></i></a>
                        </li>
                        <li><a href="https://web.facebook.com/Gospel-Lyrics-873773462700633"><i class="fa fa-facebook"></i></a>
                        </li>
                        <li><a href="https://www.youtube.com/channel/UCI2mCghexNvkT9-SJ7hsHEw"><i class="fa fa-youtube"></i></a>
                        </li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <ul class="list-inline quicklinks">
                        <li><a href="#">Privacy Policy</a>
                        </li>
                        <li><a href="#">Terms of Use</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- Portfolio Modals -->
    <!-- Use the modals below to showcase details about your portfolio projects! -->

	<div id="allmodals" style="display:none;"  >
    <!-- Portfolio Modal 1 -->
    <div class="portfolio-modal modal fade - sm" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-content">
            <div class="close-modal" data-dismiss="modal" onclick="togledisplay();">
                <div class="lr">
                    <div class="rl">
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 col-lg-offset-2">
                        <div class="modal-body">
                            <!-- Project Details Go Here -->
                            <h2>Project Name</h2>
                            <p class="item-intro text-muted">Lorem ipsum dolor sit amet consectetur.</p>
                            <img class="img-responsive img-centered" src="img/portfolio/roundicons-free.png" alt="">
                            <p>Use this area to describe your project.re nemo!</p>
                            <p>
                                <strong>Want these icons in this portfolio item sample?</strong>You can download 60 of tRoundIcons.com</a>, or you here</a>.</p>
                            <ul class="list-inline">
                                <li>Date: July 2014</li>
                               
                            </ul>
                            <button type="button" class="btn btn-primary" data-dismiss="modal"><i class="fa fa-times"></i> Close Project</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
	
</div>
   

   

   

   
   

  

    <!-- jQuery -->
    <script src="js/jquery.js"></script>
<script src="js/admob_simple.js" ></script>
    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
    <script src="js/classie.js"></script>
    <script src="js/cbpAnimatedHeader.js"></script>

    <!-- Contact Form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom Theme JavaScript -->

    <script src="js/agency.js"></script>
	

	    <script src="js/pouchdb-4.0.1.js"></script>
	
<script src="js/base.js"></script>
<script type="text/javascript" src="js/datatables.min.js"></script>

  	
	<script>
	// EDITING STARTS HERE (you dont need to edit anything above this line)
//var PouchDB = require('pouchdb');

var db = new PouchDB('gospellyr');
var remoteCouch = false;
 var receiveddata;

//receive the artist, song title and lyrics text
function addLyrics(songid,artist,songtitle,lyrics,datepublished) {
   receiveddata = {
    _id: songid,
	by:artist,
    title: songtitle,
	content:lyrics,
    date_pub:datepublished,
    completed: false
  };
  db.put(receiveddata, function callback(err, result) {
    if (!err) {
      console.log('Successfully posted lyrics!');
    }
  });
}	
	
	//show the results of the lyrics
	
	//Here we will simply read all the documents using db.allDocs. 
	//The include_docs option tells PouchDB to give us the data within each document, 
	//and the descending option tells PouchDB how to order the results based on their _id field, giving us newest first
	var offlinelyr="";
	var allmodals="";
	function showLyrics() {
	 offlinelyr="<div class='row'><div style='text-align:center;'><h5>VIEW LYRICS</h5></div></div> <table id='lyricstable' style='width:99.5%;' class='table table-striped table-bordered'><thead><tr><th style='text-align:center;'> Available Lyrics</th></tr></thead><tbody> ";
     
	
	
var cnt=0;
	
  db.allDocs({include_docs: true, ascending: true}).then( function(doc) { 
 
      cnt++;
	   console.log(doc);
	   for(a=0;a<doc.total_rows;a++){
	   var dat={};
	   dat=doc.rows[a];
	      //console.log(dat.doc.title);
		  var num=parseInt(a)+1;
		  offlinelyr+=" <tr><td><div class='col-md-12 col-sm-6 portfolio-item'><a href='#portfolioModal"+num+"' class='portfolio-link' data-toggle='modal'> ";
          offlinelyr+=" <div class='portfolio-hover'> <div class='portfolio-hover-content'>  <h2  onclick=\"showdbcontent('"+dat.doc._id+"');\"  style='white-space: normal; width:100%;text-align:left;font-size:15px' class='btn btn-info btn-lg' > <span  style='white-space: normal; width:100%;text-align:left;font-size:15px' class='label label-info'> <i class='glyphicon glyphicon-play'> </i> <b> <font color='black'>"+dat.doc.title+"</font></b> By  <font color='red'>"+dat.doc.by+"</font> </span></h2> <font color='grey'><i>Date published:  "+dat.doc.date_pub+"</i></font></div> </div> ";
          offlinelyr+="  </a> <div class='portfolio-caption'>  <p></p> </div> </div> </td>";
	  
	  allmodals+=" <div  class='portfolio-modal modal fade' id='portfolioModal"+num+"' tabindex='-1' role='dialog' aria-hidden='true'> ";
         allmodals+=" <div class='modal-content'> ";
            allmodals+=" <div class='close-modal' data-dismiss='modal' onclick='togledisplay();'> ";
                allmodals+=" <div class='lr'> ";
                    allmodals+=" <div class='rl'> ";
                    allmodals+=" </div> ";
                allmodals+=" </div> ";
            allmodals+=" </div> ";
            allmodals+=" <div class='container' > ";
                allmodals+=" <div class='row'> ";                    
				allmodals+=" <div class='col-lg-8 col-lg-offset-2' > ";
                        allmodals+=" <div class='modal-body' > ";                           
                            allmodals+=" <h2 class='btn btn-info btn-lg' style='font-size:23px; white-space: normal;' > "+dat.doc.title+" LYRICS BY "+dat.doc.by+"  </h2> ";
                            allmodals+=" <p class='item-intro text-muted'> </p> ";
                            allmodals+"  ";
                           allmodals+=" <div class='col-md-12'><p id='par_"+dat.doc._id+"'  style='font-size:20px;font-family:cambria;text-align:center;'> <i class='fa fa-cog fa-spin'>  </i> ..Loading .. Please Wait ..<i class='fa fa-cog fa-spin'>  </i></p></div> ";                           
                            allmodals+=" <button type='button' onclick='togledisplay();' class='btn btn-primary' data-dismiss='modal'><i class='fa fa-times'></i> Close Lyrics</button> ";
                        allmodals+=" </div> ";
                    allmodals+=" </div> ";
                allmodals+=" </div> ";
            allmodals+=" </div> ";
        allmodals+=" </div> ";
    allmodals+=" </div> <br/><br/>";
	    }
	  offlinelyr+="</tbody></table>";
	 // alert(allmodals);
	  	  
			
           $("#offlinelyrics").html(offlinelyr); 	  
			$("#allmodals").html(allmodals); 
			
			
			$(document).ready(function() {
            $('#lyricstable').DataTable({
                
                  "autoWidth": true,
                  "paging": true,
                  "pagingType": "full",
                    "lengthChange": false,
                      "order": []
            });
                                 } );
			
  }).catch(function (err){console.log(err)});

 //call the pagination 
confirmdata();
}


	addLyrics("aocc_sheria","Ambassadors of Christ Choir Rwanda","Sheria","Zipo sheria pia amri za barabarani,<br>zitupashazo kuzitii tukiwa safarini,<br/>kinachoshangaza muda mwingi tunasahau,<br/>Kuwa hizo amri zipo kwa usalama wetu,<br/>Ndio sababu ,unawaona madereva ,<br/>wakiendesha kwa kuchungana na polisi,","2015-07-01");
    
	
	
	</script>
	
<script>
	//google.load("gdata", "1.1");
	//google.setOnLoadCallback(getMyBlogFeed);
	$.ajax({
	url:'https://www.googleapis.com/blogger/v3/blogs/8510445962916856741/posts?maxResults=300&key=AIzaSyBXoswW6RY8PDyqjDZrZC1v9nuLfQCkNyE',
	type:'GET',
	dataType:'json',
	success:function(data){
	//alert(data.items.length);
	for(i=0;i<data.items.length;i++){
	//for(i=0;i<50;i++){
	
	var joinedtitle=data.items[i].title;
	var id_=data.items[i].id;
	  var alltitle = joinedtitle.split("BY");
	var artist=alltitle[1];
	var song=alltitle[0];
	var content1=data.items[i].content.replace('"480"','"100%"');
    var content2=content1.replace("ca-pub-1472032270151654","");
	var datepublished=data.items[i].published;
    var datepub=datepublished.substring(0, 10); 
	addLyrics(id_,artist,song,content2,datepub);
    updatedbcontent(id_, contenti,joinedtitle);
    
    }
		
	}
	});
	showLyrics();

    
    function confirmdata(){
        if ($('#lyricstable').length > 0) {
  // exists.
}
       else
        {
            //reload page
           // alert("Welcome to Gospel Lyrics");
            // window.open("index.html");
            
        }
        
    }
	
	//a function to check the available data files
	//function to load text content
    function togledisplay(){
        
        if(document.getElementById("allmodals").style.display=='none'){
         document.getElementById("allmodals").style.display="block";   
            
        }
        else {
            document.getElementById("allmodals").style.display="none";    
            
        }
    }
    
     function displayallmodals(){
        
        if(1==1){
         document.getElementById("allmodals").style.display="block";   
            
        }
        
    }
    
	function showdbcontent(myid){
	//alert(myid);
    //there is a space created by modals at the bottom of the index page.
    //I normally hide this space by setting style to display:none but unhide the modal when each lyrics title is clicked, then i hide it again upon closure of the lyric
   displayallmodals();
	var db = new PouchDB('gospellyr');
	db.get(myid).then(function (doc) {
 $("#par_"+myid).html(""+doc.content);
});




	}
	
	
//this code should take care of any updates on the lyricsid,content and title

    function updatedbcontent(lyricsid, mycontent,songtitle){
	//alert(myid);
  
	var db = new PouchDB('gospellyr');
	db.get(lyricsid).then(function (doc) {
        
  //doc.age = 4;
  
  var joinedtitle=songtitle;
   
	var alltitle = songtitle.split("BY");
	var artist=alltitle[1];
	var song=alltitle[0];
	var content1=mycontent.replace('width="480"','width="100%"');  //set width of video to fit screen size.
    var content2=content1.replace("ca-pub-1472032270151654",""); //remove blogger ads
    
   if(alltitle!='null' && alltitle!='' ){
    doc.by=artist;
    doc.title=song;
	doc.content=content2;
   //alert('called');
  // put them back
  return db.put(doc);
   }
});


	//db.allDocs({include_docs: true, descending: true}).then( function(doc) { 
  //for(a=0;a<doc.total_rows;a++){
   
	   //var dat={};
	   //dat=doc.rows[a];
	   //console.log(myid+"%"+dat.doc._id);
	  // if(dat.doc._id===myid){
	     // console.log(myid);
		  
		 // $("#par_"+myid).html(""+dat.doc.content);
		  
		 // }}
 
 
	 // }).catch(function (err){console.log(err)});



	}
	

					
	
	</script>
	
</body>

</html>
